<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shiv Computer</title>

    <!-- Bootstrap CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Owl-carousel CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha256-UhQQ4fxEeABh4JrcmAJ1+16id/1dnlOEVCFOxDef9Lw=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" integrity="sha256-kksNxjDRxd/5+jGurZUJd1sdR2v+ClrCl3svESBaJqw=" crossorigin="anonymous" />

    <!-- font awesome icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=" crossorigin="anonymous" />

    <!-- Custom CSS file -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title fs-5" id="exampleModalLabel">Product Overview</h2>
        <button type="button" class="btn-close btn-primary" data-bs-dismiss="modal" aria-label="Close">X</button>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
    <!-- start #header -->
        <header id="header">
           

            <!-- Primary Navigation -->
            <nav class="navbar navbar-expand-lg navbar-dark color-second-bg">
                <a class="navbar-brand" href="#">Shiv Computer</a>
                       			<a href="admin/index.html"><button class="btn btn-danger" 
								style="right: 10px;
								position: absolute;
								top: 10px;">Admin Login</button></a>
              </nav>
               <!-- !Primary Navigation -->

        </header>
    <!-- !start #header -->

    <!-- start #main-site -->
        <main id="main-site">
          <!-- !Owl-carousel -->
          <!-- !Owl-carousel -->

        <!-- Special Price -->
          <section id="special-price">
            <div class="container	my-4	">
              <h4 class="font-rubik font-size-20">Special Price</h4>
               <div id="filters" class="button-group text-right font-baloo font-size-16">
                <button class="btn is-checked" data-filter="*">All Brand</button>
                <button class="btn" data-filter=".Apple">Mobile</button>
                <button class="btn" data-filter=".Samsung">Computer</button>
                <button class="btn" data-filter=".Redmi">Camera</button>
				<button class="btn" data-filter=".Redmi">Laptop</button>
				<button class="btn" data-filter=".Redmi">Assesries</button>
              </div>

              <div class="grid"	style="position: absolute; display:flex;flex-wrap:wrap;" id="ProductSection"></div>
            </div>
          </section>
        <!-- !Special Price -->

        </main>
    <!-- !start #main-site -->

    <!-- start #footer -->

   
    <!-- !start #footer -->
    <!-- !start #footer -->

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <!-- Owl Carousel Js file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha256-pTxD+DSzIwmwhOqTFN+DB+nHjO4iAsbgfyFq5K5bcE0=" crossorigin="anonymous"></script>

    <!--  isotope plugin cdn  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>

    <!-- Custom Javascript -->
    <script src="index.js"></script>
	<script type="module">
	 let ProductSection = document.getElementById("ProductSection");
	 let ModalBody = document.querySelector(".modal-body");
	 let TopSale = document.getElementById("topsale");
	  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
	  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-analytics.js";
	  import { getDatabase, ref, onValue, remove, set, push } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";
	  // TODO: Add SDKs for Firebase products that you want to use
	  // https://firebase.google.com/docs/web/setup#available-libraries

	  // Your web app's Firebase configuration
	  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
	 const firebaseConfig = {
  apiKey: "AIzaSyDlMh1nW65TSixHJqf5eztacnIh4gY7kik",
  authDomain: "shiv-computer-f9447.firebaseapp.com",
  projectId: "shiv-computer-f9447",
  storageBucket: "shiv-computer-f9447.appspot.com",
  messagingSenderId: "173874985306",
  appId: "1:173874985306:web:cb8ee29262df1252d39b63",
  measurementId: "G-1E9D53LRQ5"
};
	  // Initialize Firebase
	  const app = initializeApp(firebaseConfig);
	  const analytics = getAnalytics(app);
	  const database = getDatabase(app);
	  
	window.addEventListener('load', () => {


  // Assume "Mobile" is the user identifier
    let UserName = "Products"


    onValue(ref(database, UserName), (snapshot) => {
      // Clear DocPage before appending new data
      ProductSection.innerHTML = '';

      snapshot.forEach((childSnapshot) => {
        const childData = childSnapshot.val();
        const Name = childData.ProductName;
        const Price = childData.ProductPrice;
		const Image = childData.ProductImage;
        const documentId = childSnapshot.key;
		const Categories = childData.ProductCategories;
        // Display data in the HTML
		
		
		
        ProductSection.innerHTML += `<div class="grid-item ${Categories} border" style="display: flex; flex-wrap: wrap;">
                 <div class="item py-2" style="width: 140px; height:">
                  <div class="product font-rale">
                    <a href="#"><img src="${Image}" alt="product1" class="img-fluid"></a>
                    <div class="text-center my-2">
                      <h6>${Name}</h6>
                      <div class="rating text-warning font-size-12">
                        <span><i class="fas fa-star"></i></span>
                        <span><i class="fas fa-star"></i></span>
                        <span><i class="fas fa-star"></i></span>
                        <span><i class="fas fa-star"></i></span>
                        <span><i class="far fa-star"></i></span>
                      </div>
                      <div class="price py-2">
                        <span>${Price}</span>
                      </div>
                      <button type="submit"	id="BuyBtn" data-document-id="${documentId}" data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-warning font-size-12" >Buy Now</button>
                    </div>
                  </div>
                </div>
                </div>
				
                </div>`;
      });
     
//data-bs-toggle="modal" data-bs-target="#exampleModal"
      // Add click event listener to delete buttons
           const BuyBtns = document.querySelectorAll("#BuyBtn");
      BuyBtns.forEach((btn) => {
        btn.addEventListener("click", (event) => {
          const documentIdToEdit = event.target.getAttribute("data-document-id");
          if (documentIdToEdit) {
             let ProductRef = ref(database, `Products/${documentIdToEdit}`);
			
		
			 onValue(ProductRef, (snapshot)=>{
			    let data = snapshot.val();
				
				console.log(`Name:- ${data.ProductName}`)
				console.log(`Price:- ${data.ProductPrice}`)
				console.log(`Image:- ${data.ProductImage}`)
				
				ModalBody.innerHTML = `
				<section class="py-5">
  <div class="container">
    <div class="row gx-5">
      <aside class="col-lg-6">
        <div class="border rounded-4 mb-3 d-flex justify-content-center">
          <a data-fslightbox="mygalley" class="rounded-4" target="_blank" data-type="image" href="#">
            <img style="max-width: 100%; max-height: 100vh; margin: auto;" class="rounded-4 fit" src="${data.ProductImage}" />
          </a>
        </div>
<p>
            ${data.ProductDisc}
          </p>
      </aside>
      <main class="col-lg-6">
        <div class="ps-lg-3">
          <h4 class="title text-dark">
           ${data.ProductName}
          </h4>
          <div class="d-flex flex-row my-3">
            <div class="text-warning mb-1 me-2">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
              <span class="ms-1">
                4.5
              </span>
            </div>
            </div>

          <div class="mb-3">
            <span class="h5">Price:- ${data.ProductPrice}</span>
           </div>

          

          <div class="row">
            <dt class="col-3">Type:</dt>
            <dd class="col-9">${data.ProductType}</dd>

            <dt class="col-3">Color</dt>
            <dd class="col-9">${data.ProductColor}</dd>

            <dt class="col-3">Material</dt>
            <dd class="col-9">${data.ProductMetarial}</dd>

            <dt class="col-3">Brand</dt>
            <dd class="col-9">${data.ProductBrand}</dd>
          </div>

          <hr />
          </div>
         		<a href="tel:9468050693" type="button" class="btn btn-primary">Call Me</a>
				<a aria-label="Chat on WhatsApp" type="button" class="btn btn-success" href="https://wa.me/9468050693">Massage Me</a>
		</main>
    </div>
  </div>
</section>

				`
				
			 })
			 
      
		  }
		  else{
		    alert("find some error");
		  }
        });
      });
    });
  
});
	
	</script>
	
	 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</body>
</html>
